{"ast":null,"code":"import _objectSpread from\"/Users/antonio/Task_Manager_API/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import{useAppDispatch,useAppSelector}from'../hooks/redux';import{fetchTask,updateTask,clearCurrentTask,clearError}from'../store/tasksSlice';import Loading from'../components/Loading';import{showToast}from'../components/ToastContainer';import{ArrowLeftIcon,PencilIcon,ExclamationTriangleIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EditTask=()=>{const{id}=useParams();const navigate=useNavigate();const dispatch=useAppDispatch();const{currentTask,loading,error}=useAppSelector(state=>state.tasks);// Extract specific loading states\nconst isLoadingTask=loading.fetchTask==='loading';const isUpdating=loading.updateTask==='loading';const[formData,setFormData]=useState({title:'',description:'',completed:false});const[errors,setErrors]=useState({});const[isInitialized,setIsInitialized]=useState(false);useEffect(()=>{if(id){dispatch(fetchTask(parseInt(id)));}return()=>{dispatch(clearCurrentTask());};},[id,dispatch]);useEffect(()=>{if(currentTask&&!isInitialized){setFormData({title:currentTask.title,description:currentTask.description||'',completed:currentTask.completed});setIsInitialized(true);}},[currentTask,isInitialized]);useEffect(()=>{if(error){showToast(error,'error');dispatch(clearError());}},[error,dispatch]);const validateForm=()=>{const newErrors={};if(!formData.title.trim()){newErrors.title='Il titolo è obbligatorio';}else if(formData.title.trim().length<3){newErrors.title='Il titolo deve essere lungo almeno 3 caratteri';}else if(formData.title.trim().length>200){newErrors.title='Il titolo deve essere inferiore a 200 caratteri';}if(formData.description&&formData.description.length>1000){newErrors.description='La descrizione deve essere inferiore a 1000 caratteri';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()||!currentTask){return;}try{const taskData={title:formData.title.trim(),description:formData.description.trim()||undefined,completed:formData.completed};await dispatch(updateTask({id:currentTask.id,data:taskData})).unwrap();showToast('Task aggiornato con successo!','success');navigate(\"/tasks/\".concat(currentTask.id));}catch(error){showToast('Errore nell\\'aggiornamento del task','error');}};const handleChange=e=>{const{name,value,type}=e.target;const checked=e.target.checked;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='checkbox'?checked:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const hasChanges=()=>{if(!currentTask)return false;return formData.title!==currentTask.title||formData.description!==(currentTask.description||'')||formData.completed!==currentTask.completed;};if(isLoadingTask&&!currentTask){return/*#__PURE__*/_jsx(Loading,{size:\"large\",text:\"Caricamento task...\"});}if(!currentTask&&!isLoadingTask){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"mx-auto h-12 w-12 text-red-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"Task non trovato\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Il task che stai cercando di modificare non esiste o \\xE8 stato eliminato.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/tasks\",className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-2\"}),\"Torna ai Task\"]})})]})});}if(!currentTask){return null;// This will be handled by the loading state above\n}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2 text-sm\",children:[/*#__PURE__*/_jsx(Link,{to:\"/tasks\",className:\"text-gray-500 hover:text-gray-700\",children:\"Task\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsxs(Link,{to:\"/tasks/\".concat(currentTask.id),className:\"text-gray-500 hover:text-gray-700\",children:[\"#\",currentTask.id]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-900 font-medium\",children:\"Modifica\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Modifica Task\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600\",children:\"Apporta modifiche ai dettagli del tuo task qui sotto.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-lg rounded-lg\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"title\",className:\"block text-sm font-medium text-gray-700\",children:[\"Titolo \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:formData.title,onChange:handleChange,className:\"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm \".concat(errors.title?'border-red-300 focus:ring-red-500 focus:border-red-500':''),placeholder:\"Inserisci il titolo del task...\",maxLength:200}),errors.title&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:[formData.title.length,\"/200 caratteri\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-medium text-gray-700\",children:\"Descrizione\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:4,value:formData.description,onChange:handleChange,className:\"block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm \".concat(errors.description?'border-red-300 focus:ring-red-500 focus:border-red-500':''),placeholder:\"Inserisci la descrizione del task (opzionale)...\",maxLength:1000}),errors.description&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-red-600\",children:errors.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:[formData.description.length,\"/1000 caratteri\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"completed\",name:\"completed\",type:\"checkbox\",checked:formData.completed,onChange:handleChange,className:\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"completed\",className:\"ml-2 block text-sm text-gray-900\",children:\"Segna come completato\"})]}),hasChanges()&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-5 w-5 text-yellow-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-700\",children:\"Hai modifiche non salvate. Non dimenticare di salvare i tuoi aggiornamenti!\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(Link,{to:\"/tasks/\".concat(currentTask.id),className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Annulla\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isUpdating||!hasChanges(),className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\",children:isUpdating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"}),\"Salvataggio...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-2\"}),\"Salva Modifiche\"]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 bg-gray-50 border border-gray-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Task ID: #\",currentTask.id]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Creato: \",new Date(currentTask.created_at).toLocaleDateString('it-IT')]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ultimo aggiornamento: \",new Date(currentTask.updated_at).toLocaleDateString('it-IT')]})]})]})})]});};export default EditTask;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","useAppDispatch","useAppSelector","fetchTask","updateTask","clearCurrentTask","clearError","Loading","showToast","ArrowLeftIcon","PencilIcon","ExclamationTriangleIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditTask","id","navigate","dispatch","currentTask","loading","error","state","tasks","isLoadingTask","isUpdating","formData","setFormData","title","description","completed","errors","setErrors","isInitialized","setIsInitialized","parseInt","validateForm","newErrors","trim","length","Object","keys","handleSubmit","e","preventDefault","taskData","undefined","data","unwrap","concat","handleChange","name","value","type","target","checked","prev","_objectSpread","hasChanges","size","text","className","children","to","onSubmit","htmlFor","onChange","placeholder","maxLength","rows","disabled","Date","created_at","toLocaleDateString","updated_at"],"sources":["/Users/antonio/Task_Manager_API/frontend/src/pages/EditTask.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from '../hooks/redux';\nimport { fetchTask, updateTask, clearCurrentTask, clearError } from '../store/tasksSlice';\nimport Loading from '../components/Loading';\nimport { showToast } from '../components/ToastContainer';\nimport { ArrowLeftIcon, PencilIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\n\nconst EditTask: React.FC = () => {\n    const { id } = useParams<{ id: string }>();\n    const navigate = useNavigate();\n    const dispatch = useAppDispatch();\n    const { currentTask, loading, error } = useAppSelector(state => state.tasks);\n\n    // Extract specific loading states\n    const isLoadingTask = loading.fetchTask === 'loading';\n    const isUpdating = loading.updateTask === 'loading';\n\n    const [formData, setFormData] = useState({\n        title: '',\n        description: '',\n        completed: false\n    });\n\n    const [errors, setErrors] = useState<Record<string, string>>({});\n    const [isInitialized, setIsInitialized] = useState(false);\n\n    useEffect(() => {\n        if (id) {\n            dispatch(fetchTask(parseInt(id)));\n        }\n\n        return () => {\n            dispatch(clearCurrentTask());\n        };\n    }, [id, dispatch]);\n\n    useEffect(() => {\n        if (currentTask && !isInitialized) {\n            setFormData({\n                title: currentTask.title,\n                description: currentTask.description || '',\n                completed: currentTask.completed\n            });\n            setIsInitialized(true);\n        }\n    }, [currentTask, isInitialized]);\n\n    useEffect(() => {\n        if (error) {\n            showToast(error, 'error');\n            dispatch(clearError());\n        }\n    }, [error, dispatch]);\n\n    const validateForm = () => {\n        const newErrors: Record<string, string> = {};\n\n        if (!formData.title.trim()) {\n            newErrors.title = 'Il titolo è obbligatorio';\n        } else if (formData.title.trim().length < 3) {\n            newErrors.title = 'Il titolo deve essere lungo almeno 3 caratteri';\n        } else if (formData.title.trim().length > 200) {\n            newErrors.title = 'Il titolo deve essere inferiore a 200 caratteri';\n        }\n\n        if (formData.description && formData.description.length > 1000) {\n            newErrors.description = 'La descrizione deve essere inferiore a 1000 caratteri';\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!validateForm() || !currentTask) {\n            return;\n        }\n\n        try {\n            const taskData = {\n                title: formData.title.trim(),\n                description: formData.description.trim() || undefined,\n                completed: formData.completed\n            };\n\n            await dispatch(updateTask({ id: currentTask.id, data: taskData })).unwrap();\n            showToast('Task aggiornato con successo!', 'success');\n            navigate(`/tasks/${currentTask.id}`);\n        } catch (error) {\n            showToast('Errore nell\\'aggiornamento del task', 'error');\n        }\n    };\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        const { name, value, type } = e.target;\n        const checked = (e.target as HTMLInputElement).checked;\n\n        setFormData(prev => ({\n            ...prev,\n            [name]: type === 'checkbox' ? checked : value\n        }));\n\n        // Clear error when user starts typing\n        if (errors[name]) {\n            setErrors(prev => ({ ...prev, [name]: '' }));\n        }\n    };\n\n    const hasChanges = () => {\n        if (!currentTask) return false;\n\n        return (\n            formData.title !== currentTask.title ||\n            formData.description !== (currentTask.description || '') ||\n            formData.completed !== currentTask.completed\n        );\n    };\n\n    if (isLoadingTask && !currentTask) {\n        return <Loading size=\"large\" text=\"Caricamento task...\" />;\n    }\n\n    if (!currentTask && !isLoadingTask) {\n        return (\n            <div className=\"max-w-2xl mx-auto\">\n                <div className=\"text-center py-12\">\n                    <ExclamationTriangleIcon className=\"mx-auto h-12 w-12 text-red-400\" />\n                    <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Task non trovato</h3>\n                    <p className=\"mt-1 text-sm text-gray-500\">\n                        Il task che stai cercando di modificare non esiste o è stato eliminato.\n                    </p>\n                    <div className=\"mt-6\">\n                        <Link\n                            to=\"/tasks\"\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700\"\n                        >\n                            <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n                            Torna ai Task\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    if (!currentTask) {\n        return null; // This will be handled by the loading state above\n    }\n\n    return (\n        <div className=\"max-w-2xl mx-auto\">\n            {/* Navigation */}\n            <div className=\"mb-6\">\n                <nav className=\"flex items-center space-x-2 text-sm\">\n                    <Link\n                        to=\"/tasks\"\n                        className=\"text-gray-500 hover:text-gray-700\"\n                    >\n                        Task\n                    </Link>\n                    <span className=\"text-gray-400\">/</span>\n                    <Link\n                        to={`/tasks/${currentTask.id}`}\n                        className=\"text-gray-500 hover:text-gray-700\"\n                    >\n                        #{currentTask.id}\n                    </Link>\n                    <span className=\"text-gray-400\">/</span>\n                    <span className=\"text-gray-900 font-medium\">Modifica</span>\n                </nav>\n            </div>\n\n            {/* Header */}\n            <div className=\"mb-8\">\n                <h1 className=\"text-3xl font-bold text-gray-900\">Modifica Task</h1>\n                <p className=\"mt-1 text-sm text-gray-600\">\n                    Apporta modifiche ai dettagli del tuo task qui sotto.\n                </p>\n            </div>\n\n            {/* Form */}\n            <div className=\"bg-white shadow-lg rounded-lg\">\n                <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n                    {/* Title */}\n                    <div>\n                        <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700\">\n                            Titolo <span className=\"text-red-500\">*</span>\n                        </label>\n                        <div className=\"mt-1\">\n                            <input\n                                type=\"text\"\n                                id=\"title\"\n                                name=\"title\"\n                                value={formData.title}\n                                onChange={handleChange}\n                                className={`block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.title ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : ''\n                                    }`}\n                                placeholder=\"Inserisci il titolo del task...\"\n                                maxLength={200}\n                            />\n                            {errors.title && (\n                                <p className=\"mt-2 text-sm text-red-600\">{errors.title}</p>\n                            )}\n                            <p className=\"mt-1 text-xs text-gray-500\">\n                                {formData.title.length}/200 caratteri\n                            </p>\n                        </div>\n                    </div>\n\n                    {/* Description */}\n                    <div>\n                        <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700\">\n                            Descrizione\n                        </label>\n                        <div className=\"mt-1\">\n                            <textarea\n                                id=\"description\"\n                                name=\"description\"\n                                rows={4}\n                                value={formData.description}\n                                onChange={handleChange}\n                                className={`block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm ${errors.description ? 'border-red-300 focus:ring-red-500 focus:border-red-500' : ''\n                                    }`}\n                                placeholder=\"Inserisci la descrizione del task (opzionale)...\"\n                                maxLength={1000}\n                            />\n                            {errors.description && (\n                                <p className=\"mt-2 text-sm text-red-600\">{errors.description}</p>\n                            )}\n                            <p className=\"mt-1 text-xs text-gray-500\">\n                                {formData.description.length}/1000 caratteri\n                            </p>\n                        </div>\n                    </div>\n\n                    {/* Completed Status */}\n                    <div className=\"flex items-center\">\n                        <input\n                            id=\"completed\"\n                            name=\"completed\"\n                            type=\"checkbox\"\n                            checked={formData.completed}\n                            onChange={handleChange}\n                            className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                        />\n                        <label htmlFor=\"completed\" className=\"ml-2 block text-sm text-gray-900\">\n                            Segna come completato\n                        </label>\n                    </div>\n\n                    {/* Change Indicator */}\n                    {hasChanges() && (\n                        <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4\">\n                            <div className=\"flex\">\n                                <div className=\"flex-shrink-0\">\n                                    <ExclamationTriangleIcon className=\"h-5 w-5 text-yellow-400\" />\n                                </div>\n                                <div className=\"ml-3\">\n                                    <p className=\"text-sm text-yellow-700\">\n                                        Hai modifiche non salvate. Non dimenticare di salvare i tuoi aggiornamenti!\n                                    </p>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Actions */}\n                    <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200\">\n                        <Link\n                            to={`/tasks/${currentTask.id}`}\n                            className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                        >\n                            Annulla\n                        </Link>\n                        <button\n                            type=\"submit\"\n                            disabled={isUpdating || !hasChanges()}\n                            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        >\n                            {isUpdating ? (\n                                <>\n                                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                                    Salvataggio...\n                                </>\n                            ) : (\n                                <>\n                                    <PencilIcon className=\"h-4 w-4 mr-2\" />\n                                    Salva Modifiche\n                                </>\n                            )}\n                        </button>\n                    </div>\n                </form>\n            </div>\n\n            {/* Task Info */}\n            <div className=\"mt-6 bg-gray-50 border border-gray-200 rounded-md p-4\">\n                <div className=\"flex justify-between items-center text-sm text-gray-600\">\n                    <div>\n                        <p>Task ID: #{currentTask.id}</p>\n                    </div>\n                    <div className=\"text-right\">\n                        <p>Creato: {new Date(currentTask.created_at).toLocaleDateString('it-IT')}</p>\n                        <p>Ultimo aggiornamento: {new Date(currentTask.updated_at).toLocaleDateString('it-IT')}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default EditTask;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}